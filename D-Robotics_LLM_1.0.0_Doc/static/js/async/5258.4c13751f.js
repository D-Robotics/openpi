"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["5258"],{35149:function(e,n,s){s.r(n);var i=s(85893),r=s(50065);function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",div:"div",code:"code",ol:"ol",li:"li",pre:"pre",span:"span"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"environmental-deployment",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#environmental-deployment",children:"#"}),"Environmental Deployment"]}),"\n",(0,i.jsx)(n.p,{children:"This chapter introduces how to complete environment setup on the x86 development machine and on the S100/S100P edge devices."}),"\n",(0,i.jsxs)(n.h2,{id:"x86-quantization-environment-setup",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#x86-quantization-environment-setup",children:"#"}),"x86 Quantization Environment Setup"]}),"\n",(0,i.jsxs)(n.h3,{id:"recommended-hardware-configuration",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#recommended-hardware-configuration",children:"#"}),"Recommended Hardware Configuration"]}),"\n",(0,i.jsx)(n.p,{children:"CPU: Intel(R) Core(TM) i9-14900K, 32 cores"}),"\n",(0,i.jsx)(n.p,{children:"GPU: NVIDIA RTX 3090"}),"\n",(0,i.jsx)(n.p,{children:"RAM: 128\u202FGB"}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Warning"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"\nIf the hardware configuration is lower, quantization may be slower or could fail."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"deployment-package-preparation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deployment-package-preparation",children:"#"}),"Deployment Package Preparation"]}),"\n",(0,i.jsxs)(n.p,{children:["Download the ",(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}.tar.gz"})," installation package provided by us and extract it correctly."]}),"\n",(0,i.jsxs)(n.h3,{id:"install-the-conda-environment",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install-the-conda-environment",children:"#"}),"Install the Conda Environment"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive note",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Note"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"If you have already installed the Conda environment, please skip this step."})})]}),"\n",(0,i.jsx)(n.p,{children:"To facilitate the management of the Python environment, we recommend using Miniforge3 as the Python package management tool."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Download the Miniforge3 installation package:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"wget"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-c"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"https://mirrors.bfsu.edu.cn/github-release/conda-forge/miniforge/LatestRelease/Miniforge3-Linux-x86_64.sh"})]}),"\n"]})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install the Miniforge3:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"chmod"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"777"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"Miniforge3-Linux-x86_64.sh"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"Miniforge3-Linux-x86_64.sh"})]}),"\n"]})})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"set-up-the-conda-environment",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-up-the-conda-environment",children:"#"}),"Set Up the Conda Environment"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Enter the Conda base environment, refer to the following command:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# ~/miniforge3 is the default installation path for Miniforge3, please choose the path based on your actual situation."})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"source"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"~/miniforge3/bin/activate"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"base"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") xxx@xxx:"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"~"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"$ "})]}),"\n"]})})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create a python3.10 environment and switch to the environment, refer to the following command:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"conda"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"create"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-n"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"oellm"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"python="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3.10"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Enter the oellm conda environment:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"conda"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"activate"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"oellm"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# (oellm) xxx@xxx:~$ "})}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Install the required Python environment:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-r"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./oellm_build/requirements.txt"})]}),"\n"]})})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"install-the-other-files-in-the-deployment-package",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install-the-other-files-in-the-deployment-package",children:"#"}),"Install the other files in the deployment package"]}),"\n",(0,i.jsx)(n.p,{children:"After setting up the Conda environment, you need to continue installing the model quantization, conversion, and compilation toolkits included in the LLM deployment package. Refer to the following commands:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./oellm_build/hbdk4_compiler-{version}-cp310-cp310-manylinux_2_17_x86_64.whl"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./oellm_build/hbdk4_runtime_aarch64_unknown_linux_gnu_nash-{version}-py3-none-any.whl"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"pip"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./oellm_build/leap_llm-{version}-py310-none-any.whl"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"At this point, we have completed the setup of the model quantization and compilation environment on the x86 development machine. If you need to cross-compile C++ edge-side executable files, you may proceed with the following steps."}),"\n",(0,i.jsxs)(n.h3,{id:"cross-compilation-toolchain-configuration",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cross-compilation-toolchain-configuration",children:"#"}),"Cross-Compilation Toolchain Configuration"]}),"\n",(0,i.jsx)(n.p,{children:"Within the LLM deployment package, we provide an installation package for the cross-compilation toolchain, which is used to cross-compile ARM programs on the x86 platform. Simply create a directory on the x86 device and extract the installation package. Refer to the following commands:"}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Warning"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.p,{children:["\nPlease note that installing to the ",(0,i.jsx)(n.code,{children:"/opt"}),"directory requires root privileges. If you do not have root access, you may choose to extract it to another directory instead."]})})]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sudo"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"mkdir"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/opt/aarch64/"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sudo"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"tar"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-xvf"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"arm-gnu-toolchain-11.3.rel1-x86_64-aarch64-none-linux-gnu.tar.xz"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-C"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/opt/aarch64/"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"After extraction, configure the environment variables to check the build toolchain, using the following commands as a reference:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" LINARO_GCC_ROOT"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/opt/aarch64/arm-gnu-toolchain-11.3.rel1-x86_64-aarch64-none-linux-gnu"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"At this point, you can cross-compile ARM executable programs on the x86 platform. Each example in oellm_runtime provides a build script for your use."}),"\n",(0,i.jsxs)(n.h2,{id:"development-board-runtime-environment-setup",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#development-board-runtime-environment-setup",children:"#"}),"Development Board Runtime Environment Setup"]}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to the ",(0,i.jsx)(n.a,{href:"/latest/en/guide/quickstart/S100P/ion_allocate.html",children:"Memory Allocation Instructions"})," to complete the memory allocation procedure on the development board."]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(o,e)})):o(e)}n.default=l,l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["latest%2Fen%2Fguide%2Fenv_install.mdx"]={toc:[{id:"x86-quantization-environment-setup",text:"x86 Quantization Environment Setup",depth:2},{id:"recommended-hardware-configuration",text:"Recommended Hardware Configuration",depth:3},{id:"deployment-package-preparation",text:"Deployment Package Preparation",depth:3},{id:"install-the-conda-environment",text:"Install the Conda Environment",depth:3},{id:"set-up-the-conda-environment",text:"Set Up the Conda Environment",depth:3},{id:"install-the-other-files-in-the-deployment-package",text:"Install the other files in the deployment package",depth:3},{id:"cross-compilation-toolchain-configuration",text:"Cross-Compilation Toolchain Configuration",depth:3},{id:"development-board-runtime-environment-setup",text:"Development Board Runtime Environment Setup",depth:2}],title:"Environmental Deployment",frontmatter:{}}}}]);