"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["3506"],{14899:function(e,n,s){s.r(n);var i=s(85893),r=s(50065);function l(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",pre:"pre",code:"code",span:"span",p:"p",ul:"ul",li:"li",strong:"strong"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"main-interface-functions",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#main-interface-functions",children:"#"}),"Main Interface Functions"]}),"\n",(0,i.jsxs)(n.h2,{id:"create-default-parameter",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#create-default-parameter",children:"#"}),"Create Default Parameter"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_common_params_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_create_default_param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Create default model general parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Construct the ",(0,i.jsx)(n.code,{children:"xlm_common_params_t"})," structure data with default parameter."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"initialize-the-instance",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#initialize-the-instance",children:"#"}),"Initialize the Instance"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_init"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_common_params_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"param"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_callback_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" callback"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"**"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"llm_handle);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Initialize the instance."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"param"}),", general parameters of the model generated during initialization."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"callback"}),", the callback function pointer for registering a task, i.e., the execution entity of the task."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[out]: ",(0,i.jsx)(n.code,{children:"llm_handle"}),", the inference handle, which is used for the management of subsequent tasks."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Initialization successful), ",(0,i.jsx)(n.code,{children:"-1"})," (Initialization failed)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"synchronous-inference",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#synchronous-inference",children:"#"}),"Synchronous Inference"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_infer"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_input_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"input"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"userdata);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Synchronous inference, starting the inference includes a complete prefill and decode process."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"input"}),", the model inference input, including data such as prompt, image, and task priority."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"userdata"}),", user-defined data, which is returned through the callback function along with the inference result."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Inference task executed successfully), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain the inference handle, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"ppl-calculation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ppl-calculation",children:"#"}),"PPL Calculation"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_ppl"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_input_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"input"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"userdata);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"This is used only for PPL calculation and will not be executed for regular tasks."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"input"}),", input for model inference, typically text or wikitest data."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"userdata"}),",user-defined data, which is returned through the callback function along with the inference result."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (PPL calculation task executed successfully), ",(0,i.jsx)(n.code,{children:"-1"})," (failed to obtain the inference handle, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"asynchronous-inference",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#asynchronous-inference",children:"#"}),"Asynchronous Inference"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_infer_async"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_input_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"input"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"userdata);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Asynchronous inference, starting the inference includes a complete prefill and decode process."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"input"}),", the model inference input, including data such as prompt, image, and task priority."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["[in]: ",(0,i.jsx)(n.code,{children:"userdata"}),", user-defined data, which is returned through the callback function along with the inference result."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Inference task executed successfully), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain the inference handle, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"destroy-the-instance",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#destroy-the-instance",children:"#"}),"Destroy the Instance"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_destroy"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"handle);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Release the inference instance resources."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Value"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Task destroyed successfully), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain the inference handle, interface returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"omni-audio-input",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#omni-audio-input",children:"#"}),"Omni Audio Input"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_omni_feed_audio_online"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"omni_online_audio_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" audio_input);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Provide audio input when Omni is running online."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"audio_input"}),", audio input, including the memory start address and length information."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Return Value"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Correctly transmit audio data), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain audio data, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"omni-video-input",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#omni-video-input",children:"#"}),"Omni Video Input"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_omni_feed_video_online"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"omni_online_video_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" video_input);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Provide video input when Omni is running online."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"video_input"}),", video input, including the start addresses of the Y and UV components and their width and height."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Return Value"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Correctly transmit video data), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain video data, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"omni-text-input",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#omni-text-input",children:"#"}),"Omni Text Input"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_omni_feed_text_online"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"omni_online_text_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" text_input);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Provide text input when Omni is running online."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"text_input"}),", text input, including system text and user text."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Return Value"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Correctly transmit text data), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain text data, task returned)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"omni-synchronous-inference",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#omni-synchronous-inference",children:"#"}),"Omni Synchronous Inference"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-cpp",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"xlm_omni"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_handle_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handle"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"xlm_input_t"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"input"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"userdata);"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Start Omni's full processing pipeline in a synchronous manner."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"handle"}),", the inference handle obtained through the ",(0,i.jsx)(n.code,{children:"xlm_init"})," interface."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"input"}),", the model inference input."]}),"\n",(0,i.jsxs)(n.li,{children:["[in]: ",(0,i.jsx)(n.code,{children:"userdata"}),", user-defined data, which is returned through the callback function along with the inference result."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Return Value"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," (Inference task executed successfully), ",(0,i.jsx)(n.code,{children:"-1"})," (Failed to obtain the inference handle, task returned)."]}),"\n"]}),"\n"]}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(l,e)})):l(e)}n.default=c,c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["latest%2Fen%2Fguide%2Fapi%2Fapi_details%2Fapi_functions.mdx"]={toc:[{id:"create-default-parameter",text:"Create Default Parameter",depth:2},{id:"initialize-the-instance",text:"Initialize the Instance",depth:2},{id:"synchronous-inference",text:"Synchronous Inference",depth:2},{id:"ppl-calculation",text:"PPL Calculation",depth:2},{id:"asynchronous-inference",text:"Asynchronous Inference",depth:2},{id:"destroy-the-instance",text:"Destroy the Instance",depth:2},{id:"omni-audio-input",text:"Omni Audio Input",depth:2},{id:"omni-video-input",text:"Omni Video Input",depth:2},{id:"omni-text-input",text:"Omni Text Input",depth:2},{id:"omni-synchronous-inference",text:"Omni Synchronous Inference",depth:2}],title:"Main Interface Functions",frontmatter:{}}}}]);