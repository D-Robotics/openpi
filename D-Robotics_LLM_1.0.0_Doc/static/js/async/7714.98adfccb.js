"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["7714"],{27979:function(e,n,s){s.r(n);var i=s(85893),r=s(50065);function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ol:"ol",li:"li",h2:"h2",code:"code",ul:"ul",br:"br",div:"div",pre:"pre",span:"span",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",strong:"strong",tbody:"tbody",td:"td"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"advanced-development",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#advanced-development",children:"#"}),"Advanced Development"]}),"\n",(0,i.jsx)(n.p,{children:"In this chapter, we will introduce the advanced development workflow of D-Robotics-LLM."}),"\n",(0,i.jsx)(n.p,{children:"This workflow applies to the following scenarios:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The model has already been fine-tuned and requires re-quantization."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Simple single-turn conversations."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Continuous multi-turn conversations, where the model can remember questions and answers from previous rounds."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Calculating the model's PPL (Perplexity) metric on the edge device."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"qwen25-model-version-selection",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#qwen25-model-version-selection",children:"#"}),"Qwen2.5 Model Version Selection"]}),"\n",(0,i.jsxs)(n.p,{children:["We provide both ",(0,i.jsx)(n.code,{children:"Base"})," and ",(0,i.jsx)(n.code,{children:"Instruct"})," versions of the Qwen2.5 model to meet your diverse development and application requirements. Their differences are as follows:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Base"})," version is a foundational text generation model suitable for subsequent model training tasks. Model names for this version do not contain the word ",(0,i.jsx)(n.code,{children:"Instruct"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Instruct"})," version is derived from the ",(0,i.jsx)(n.code,{children:"Base"})," version through instruction fine-tuning and is better suited for conversational scenarios. Model names for this version include the word ",(0,i.jsx)(n.code,{children:"Instruct"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Here, we will use the ",(0,i.jsx)(n.code,{children:"Qwen2.5-1.5B-Instruct"})," model as an example to illustrate usage instructions.",(0,i.jsx)(n.br,{}),"\n","Please note specifically that continuous multi-turn conversation scenarios only support the ",(0,i.jsx)(n.code,{children:"Instruct"})," version; all other scenarios support both the ",(0,i.jsx)(n.code,{children:"Base"})," and ",(0,i.jsx)(n.code,{children:"Instruct"})," versions."]}),"\n",(0,i.jsxs)(n.h2,{id:"environment-setup",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#environment-setup",children:"#"}),"Environment Setup"]}),"\n",(0,i.jsxs)(n.p,{children:["Please ensure you have correctly completed environment setup for both the development host and development board as described in the ",(0,i.jsx)(n.a,{href:"/latest/en/guide/env_install.html",children:"Environment Deployment"})," section."]}),"\n",(0,i.jsxs)(n.h2,{id:"deployment-package-preparation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deployment-package-preparation",children:"#"}),"Deployment Package Preparation"]}),"\n",(0,i.jsxs)(n.p,{children:["Download the provided deployment package ",(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}.tar.gz"})," and extract it."]}),"\n",(0,i.jsxs)(n.h2,{id:"model-preparation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#model-preparation",children:"#"}),"Model Preparation"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Note"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.p,{children:["Currently, only the following models are supported: ",(0,i.jsx)(n.code,{children:"Qwen2.5-1.5B"}),", ",(0,i.jsx)(n.code,{children:"Qwen2.5-7B"}),", ",(0,i.jsx)(n.code,{children:"Qwen2.5-1.5B-Instruct"}),", and ",(0,i.jsx)(n.code,{children:"Qwen2.5-7B-Instruct"}),".",(0,i.jsx)(n.br,{}),"\n","Before downloading any model, please ensure you understand its license terms, dependency requirements, and other necessary information to guarantee proper functionality afterward."]})})]}),"\n",(0,i.jsx)(n.p,{children:"You can obtain Qwen2.5 series models from the Hugging Face platform using the links below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/Qwen/Qwen2.5-1.5B",target:"_blank",rel:"noopener noreferrer",children:"Qwen2.5-1.5B Model"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/Qwen/Qwen2.5-7B",target:"_blank",rel:"noopener noreferrer",children:"Qwen2.5-7B Model"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/Qwen/Qwen2.5-1.5B-Instruct",target:"_blank",rel:"noopener noreferrer",children:"Qwen2.5-1.5B-Instruct Model"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://huggingface.co/Qwen/Qwen2.5-7B-Instruct",target:"_blank",rel:"noopener noreferrer",children:"Qwen2.5-7B-Instruct Model"})}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"model_quantization",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#model_quantization",children:"#"}),"Model Quantization"]}),"\n",(0,i.jsxs)(n.p,{children:["D-Robotics-LLM provides command-line tools to quantize and compile models for edge-device deployment. Here, we use the ",(0,i.jsx)(n.code,{children:"Qwen2.5-1.5B-Instruct"})," model as an example. Reference command:"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"oellm_build"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--model_name"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"qwen2_5-1_5b"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--input_model_path"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./Qwen2.5-1.5B-Instruct"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--output_model_path"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./output_hbm"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--march"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"nash-m"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--chunk_size"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"256"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--cache_len"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1024"})]}),"\n"]})})}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive info",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Note"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.p,{children:["For detailed usage instructions and important considerations regarding the ",(0,i.jsx)(n.code,{children:"oellm_build"})," tool, please refer to the ",(0,i.jsx)(n.a,{href:"/latest/en/guide/tool_introduction/oellm_build.html",children:"oellm_build Tool"})," section."]})})]}),"\n",(0,i.jsxs)(n.p,{children:["If you obtain our pre-compiled ",(0,i.jsx)(n.code,{children:".hbm"})," models via the links provided in ",(0,i.jsx)(n.code,{children:"resolve_model.txt"}),", you may skip this quantization step."]}),"\n",(0,i.jsxs)(n.p,{children:["All ",(0,i.jsx)(n.code,{children:"Qwen2.5"})," models listed in ",(0,i.jsx)(n.code,{children:"resolve_model.txt"})," were compiled with ",(0,i.jsx)(n.code,{children:"chunk_size"})," set to ",(0,i.jsx)(n.code,{children:"256"})," and ",(0,i.jsx)(n.code,{children:"cache_len"})," set to ",(0,i.jsx)(n.code,{children:"1024"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"edge-device-runtime-preparation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#edge-device-runtime-preparation",children:"#"}),"Edge Device Runtime Preparation"]}),"\n",(0,i.jsxs)(n.p,{children:["In the directory ",(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}/oellm_runtime/example"}),", we have pre-prepared compiled executables in subdirectories that can be directly run on the edge device. Alternatively, you can execute different build scripts to generate required files yourself. Reference commands:"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Simple conversation"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"build_oellm_run.sh"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number"}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Multi-turn conversation"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"build_oellm_multichat.sh"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number"}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# PPL evaluation"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"build_oellm_ppl.sh"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Next, create a working directory on the edge device. Reference command:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Running on S100/S100P"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/home/root/llm"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Before deploying to the board, ensure you have prepared the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A functional development board for executing programs on the edge device."}),"\n",(0,i.jsxs)(n.li,{children:["A deployable model file (",(0,i.jsx)(n.code,{children:"*.hbm"}),"), which is the output of the ",(0,i.jsx)(n.a,{href:"#model_quantization",children:"Model Quantization"})," step."]}),"\n",(0,i.jsxs)(n.li,{children:["Executable files (",(0,i.jsx)(n.code,{children:"oellm_run"}),", ",(0,i.jsx)(n.code,{children:"oellm_multichat"}),", and ",(0,i.jsx)(n.code,{children:"oellm_ppl"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Runtime dependency libraries. To reduce deployment overhead, you can directly use the contents from the following paths within the D-Robotics-LLM package:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}/oellm_runtime/set_performance_mode.sh"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}/oellm_runtime/lib"})," folder"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}/oellm_runtime/config"})," folder"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"D-Robotics_LLM_{version}/oellm_runtime/example"})," folder"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After preparation, integrate the model files (",(0,i.jsx)(n.code,{children:"*.hbm"}),"), executables, and dependency libraries together. Reference directory structure:"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-text",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"root@ubuntu:/home/root/llm"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|-- model"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- resolve_model.txt"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_1.5B_1024.hbm"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_1.5B_Instruct_1024.hbm"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_7B_1024.hbm"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_7B_Instruct_1024.hbm"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|-- config"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_1.5B_config"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_1.5B_Instruct_config"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_7B_config"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- Qwen2.5_7B_Instruct_config"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|-- example"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- oellm_run"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- oellm_run"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- oellm_multichat"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- oellm_multichat"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- qwen_multichat_config.json"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |-- oellm_ppl"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- oellm_ppl"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- qwen_ppl_config.json"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|   |   |-- test-00000-of-00001.bin"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|-- include"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"|-- lib"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"`--set_performance_mode.sh"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,i.jsxs)(n.h2,{id:"edge-device-runtime-setup",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#edge-device-runtime-setup",children:"#"}),"Edge Device Runtime Setup"]}),"\n",(0,i.jsx)(n.p,{children:"Create a working directory on the edge device. Reference commands:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Create working directory"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/home/root/llm"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/home/root/llm"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Copy the integrated folder from your development host to this edge device directory. Reference command:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"scp"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-r"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"llm/*"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"root@{board_ip}:/home/root/llm"})]}),"\n"]})})}),"\n",(0,i.jsxs)(n.p,{children:["Finally, configure ",(0,i.jsx)(n.code,{children:"LD_LIBRARY_PATH"})," under the path ",(0,i.jsx)(n.code,{children:"/home/root/llm/D-Robotics_LLM_{version}/oellm_runtime"}),". Reference commands:"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Modify hardware register values to switch the device into performance mode"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sh"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"set_performance_mode.sh"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number"}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Set environment variables"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"lib"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/home/root/llm/D-Robotics_LLM_{version}/oellm_runtime/lib"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" LD_LIBRARY_PATH"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"${lib}"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"${LD_LIBRARY_PATH}"})]}),"\n"]})})}),"\n",(0,i.jsxs)(n.h2,{id:"running-on-edge-device",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#running-on-edge-device",children:"#"}),"Running on Edge Device"]}),"\n",(0,i.jsxs)(n.h3,{id:"simple-conversation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#simple-conversation",children:"#"}),"Simple Conversation"]}),"\n",(0,i.jsx)(n.p,{children:"Reference command for running on the edge device:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./example/oellm_run"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"./oellm_run"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--hbm_path"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"../../model/Qwen2.5_1.5B_Instruct_1024.hbm"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--tokenizer_dir"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"../../config/Qwen2.5_1.5B_Instruct_config/"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--template_path"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"../../config/Qwen2.5_1.5B_Instruct_config/Qwen2.5_1.5B_Instruct.jinja"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" \\"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--model_type"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"7"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Input parameters for the program:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Parameter"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Description"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Optional/Required"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-h, --help"})}),(0,i.jsx)(n.td,{children:"Display help information."}),(0,i.jsx)(n.td,{children:"/"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--hbm_path"})}),(0,i.jsxs)(n.td,{children:["Specifies the path to the quantized model file (",(0,i.jsx)(n.code,{children:"*.hbm"}),")."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--tokenizer_dir"})}),(0,i.jsx)(n.td,{children:"Specifies the tokenizer configuration directory."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--template_path"})}),(0,i.jsx)(n.td,{children:"Specifies the conversation template path for Instruct models; omit when loading Base models."}),(0,i.jsx)(n.td,{children:"Optional"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--model_type"})}),(0,i.jsx)(n.td,{children:"Specifies the model type to run; currently, Qwen2.5 uses model type 7."}),(0,i.jsx)(n.td,{children:"Required"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"multi-turn-conversation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#multi-turn-conversation",children:"#"}),"Multi-turn Conversation"]}),"\n",(0,i.jsx)(n.p,{children:"Reference command for running on the edge device:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./example/oellm_multichat"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"./oellm_multichat"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-c"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./qwen_multichat_config.json"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Input parameters for the program:"}),"\n",(0,i.jsxs)(n.p,{children:["| ",(0,i.jsx)(n.strong,{children:"Parameter"})," | ",(0,i.jsx)(n.strong,{children:"Description"})," | ",(0,i.jsx)(n.strong,{children:"Optional/Required"})," || -------- | ------------- | ------------ |\n| ",(0,i.jsx)(n.code,{children:"-h, --help"})," | Display help information. | / |\n| ",(0,i.jsx)(n.code,{children:"-c, --config"})," | Specify the path to the JSON configuration file. | Required |"]}),"\n",(0,i.jsx)(n.p,{children:"Example JSON configuration file:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-json",meta:'title="qwen_multichat_config.json"',children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"hbm_path"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../model/Qwen2.5_1.5B_Instruct_1024.hbm"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"tokenizer_dir"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../config/Qwen2.5_1.5B_Instruct_config/"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"template_path"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../config/Qwen2.5_1.5B_Instruct_config/Qwen2.5_1.5B_Instruct.jinja"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"model_type"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"7"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Parameter descriptions for the JSON configuration file:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Parameter"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Description"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Optional/Required"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hbm_path"})}),(0,i.jsxs)(n.td,{children:["Path to the quantized model file (",(0,i.jsx)(n.code,{children:"*.hbm"}),")."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tokenizer_dir"})}),(0,i.jsx)(n.td,{children:"Path to the tokenizer configuration directory."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"template_path"})}),(0,i.jsx)(n.td,{children:"Path to the conversation template file."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"model_type"})}),(0,i.jsxs)(n.td,{children:["Specifies the model type to run; currently, Qwen2.5 uses model type ",(0,i.jsx)(n.code,{children:"7"}),"."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bpu_core"})}),(0,i.jsxs)(n.td,{children:["Specifies the BPU core to use. Default is ",(0,i.jsx)(n.code,{children:"-1"})," (any core)."]}),(0,i.jsx)(n.td,{children:"Optional"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"ppl-evaluation",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ppl-evaluation",children:"#"}),"PPL Evaluation"]}),"\n",(0,i.jsx)(n.p,{children:"To evaluate the model's Perplexity (PPL) on-device, refer to the following commands:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-bash",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./example/oellm_ppl"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"./oellm_ppl"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-c"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./qwen_ppl_config.json"})]}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Program input parameters:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Parameter"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Description"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Optional/Required"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-h, --help"})}),(0,i.jsx)(n.td,{children:"Display help information."}),(0,i.jsx)(n.td,{children:"/"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-c, --config"})}),(0,i.jsx)(n.td,{children:"Specify the path to the JSON configuration file."}),(0,i.jsx)(n.td,{children:"Required"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Example JSON configuration file:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-json",meta:'title="qwen_ppl_config.json"',children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"hbm_path"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../model/Qwen2.5_1.5B_Instruct_1024.hbm"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"tokenizer_dir"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../config/Qwen2.5_1.5B_Instruct_config/"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"model_type"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"7"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"ppl_testcase"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"test-00000-of-00001.bin"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"load_ckpt"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"text_data_num"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"max_length"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"256"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"stride"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"100"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,i.jsx)(n.p,{children:"Parameter descriptions for the JSON configuration file:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Parameter"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Description"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Optional/Required"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hbm_path"})}),(0,i.jsxs)(n.td,{children:["Path to the quantized model file (",(0,i.jsx)(n.code,{children:"*.hbm"}),")."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tokenizer_dir"})}),(0,i.jsx)(n.td,{children:"Path to the tokenizer configuration directory."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"model_type"})}),(0,i.jsxs)(n.td,{children:["Specifies the model type to run; currently, Qwen2.5 uses model type ",(0,i.jsx)(n.code,{children:"7"}),"."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ppl_testcase"})}),(0,i.jsxs)(n.td,{children:["Path to the test file; currently only ",(0,i.jsx)(n.code,{children:"bin"})," format is supported."]}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"max_length"})}),(0,i.jsx)(n.td,{children:"Sequence length fed into the model per evaluation step."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stride"})}),(0,i.jsx)(n.td,{children:"Stride used during testing."}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bpu_core"})}),(0,i.jsxs)(n.td,{children:["Specifies the BPU core to use. Default is ",(0,i.jsx)(n.code,{children:"-1"})," (any core)."]}),(0,i.jsx)(n.td,{children:"Optional"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"load_ckpt"})}),(0,i.jsxs)(n.td,{children:["Whether to resume testing from the last checkpoint if interrupted. Default is ",(0,i.jsx)(n.code,{children:"false"}),"."]}),(0,i.jsx)(n.td,{children:"Optional"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"text_data_num"})}),(0,i.jsxs)(n.td,{children:["Truncates the input text to a specific length before testing. If ",(0,i.jsx)(n.code,{children:"text_data_num <= 0"}),", no truncation occurs. Default is ",(0,i.jsx)(n.code,{children:"0"}),"."]}),(0,i.jsx)(n.td,{children:"Optional"})]})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"execution-results",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#execution-results",children:"#"}),"Execution Results"]}),"\n",(0,i.jsxs)(n.h3,{id:"simple-conversation-1",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#simple-conversation-1",children:"#"}),"Simple Conversation"]}),"\n",(0,i.jsx)(n.p,{children:"Example of a simple conversation test:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-text",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[User] <<< Briefly describe the development of artificial intelligence."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[Assistant] >>> The development of Artificial Intelligence (AI) can be briefly described as follows:"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"1. From Theory to Implementation  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - AI research began in the 1920s, but significant progress started with Alan Turing's concept of machine intelligence in 1936. Turing introduced the Turing Machine and proposed that a computation is effective if its results are understandable by humans.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - Subsequent researchers explored simulating neural networks, machine learning, and endowing machines with intelligence.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - In the 1960s, AI entered a period of rapid growth, with mature concepts and techniques emerging, such as genetic algorithms, neural networks, and fuzzy logic.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - In the 1990s, deep learning (deep neural networks) gained traction, significantly advancing machine learning\u2014especially in image and pattern recognition.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - Recently, AI has achieved rapid progress in speech recognition, natural language processing, image recognition, machine translation, and intelligent robotics."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"2. From Theory to Practice  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - Between 1950 and 2010 (~60 years), AI theory and practice developed rapidly.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - From 2010 to 2014, deep learning surged, marking a new era of accelerated AI advancement. By 2014, over 800,000 AI-related papers had been published, with citations exceeding 500 million.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - By 2017, deep learning achieved high accuracy in image and speech recognition but faced challenges like massive datasets and model complexity. Research shifted toward addressing data overload and model efficiency."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"3. From Development to Maturity  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - In 2015, AlphaGo defeated world Go champion Lee Sedol, shattering human illusions about AI and signaling technological maturity.  "})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"   - By 2020, AI was widely applied in healthcare, smart manufacturing, and smart cities."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Performance prefill: 1939.39 tokens/s    decode: 24.43 tokens/s"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,i.jsxs)(n.h3,{id:"multi-turn-conversation-1",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#multi-turn-conversation-1",children:"#"}),"Multi-turn Conversation"]}),"\n",(0,i.jsx)(n.p,{children:"Example of a multi-turn conversation test:"}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-text",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[User] <<< Briefly describe the current state of AI development."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[Assistant] >>> The current state of AI development is as follows:"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"1. AI technologies continue to mature, with advancements in deep learning, reinforcement learning, transfer learning, and models like deep neural networks, CNNs, and RNNs driving continuous algorithmic and application progress."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"2. Machine learning and deep learning are increasingly applied in image recognition, speech recognition, and NLP, enabling AI to process vast data and deliver accurate, efficient solutions\u2014evident in medical diagnostics, financial risk control, and intelligent customer service."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"3. AI is transforming lifestyles through applications in smart homes, transportation, cities, and healthcare, as well as autonomous vehicles, virtual assistants, and VR, ushering in new ways of living and working."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"4. AI delivers significant results across healthcare, education, finance, transportation, manufacturing, energy, retail, and entertainment, evolving into a key driver of innovation."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"5. AI is becoming a new engine for global economic growth, with countries worldwide increasing investment to lead future competition."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Performance prefill: 1941.70 tokens/s    decode: 24.07 tokens/s"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[User] <<< How can robotics integrate with the aforementioned technologies?"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[Assistant] >>> Integrating robotics with current AI technologies can further advance AI and unlock innovative applications. Robotics encompasses machine vision, sensors, motion control, and cognition, which can deeply synergize with AI techniques like machine learning, deep learning, NLP, and reinforcement learning."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"For example:"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"- In robotic vision, deep learning enables precise object detection and tracking."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"- In motion control, AI algorithms optimize path planning and trajectory execution."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"- In intelligent perception, machine learning facilitates data processing, pattern recognition, and decision-making."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Moreover, combining robotics with AI enhances applications in autonomous driving, smart healthcare, and intelligent finance, making robots more intelligent, automated, and versatile."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Performance prefill: 1929.30 tokens/s    decode: 24.27 tokens/s"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[User] <<< Elaborate on the most challenging aspect mentioned above."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"[Assistant] >>> The most challenging aspect of integrating robotics with AI is likely **intelligent perception and understanding**. This refers to a robot's ability to sense external information (e.g., vision, audio, touch) and comprehend its meaning."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Key challenges include:"})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"1. **Object Recognition Accuracy**: Robots must accurately identify objects considering shape, color, material, dynamics, lighting, and background\u2014all affecting reliability."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"2. **Semantic Understanding**: Robots need to infer an object\u2019s purpose, function, or state by analyzing shape, size, color, and texture, while interacting with humans via language, vision, or audio."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"3. **Intelligent Decision-Making**: Robots must autonomously decide actions based on environmental context, task goals, capabilities, constraints, and risk assessment."})}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"Performance prefill: 1940.90 tokens/s    decode: 24.14 tokens/s"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})})]})})}),"\n",(0,i.jsxs)(n.h3,{id:"ppl-evaluation-1",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ppl-evaluation-1",children:"#"}),"PPL Evaluation"]}),"\n",(0,i.jsxs)(n.p,{children:["After PPL evaluation completes, a ",(0,i.jsx)(n.code,{children:"{ppl_testcase}.json"})," file is generated in the same directory. The value under ",(0,i.jsx)(n.code,{children:"Perplexity"})," represents the final PPL result. Example:"]}),"\n",(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-json",meta:"",children:[(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"PPL Parameters"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"hbm_path"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../../model/Qwen2.5_1.5B_1024.hbm"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"ppl_testcase"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"test-00000-of-00001.bin"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"text_data_num"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"max_length"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"256"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"stride"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"100"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"Average Negative Log-Likelihood"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"2.5058889819220984"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"Perplexity"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"12.254448107791829"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n"]})})}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive info",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Note"}),(0,i.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["PPL evaluation supports resuming from checkpoints. During execution, a ",(0,i.jsx)(n.code,{children:"ppl_ckpt.json"})," file is created in the working directory. If ",(0,i.jsx)(n.code,{children:"load_ckpt"})," is set to ",(0,i.jsx)(n.code,{children:"true"}),", the program resumes testing from this checkpoint."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["After PPL evaluation finishes, a JSON file containing key test parameters and the PPL result is generated in the directory of the ",(0,i.jsx)(n.code,{children:"bin"})," test file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"bin"})," file specified by ",(0,i.jsx)(n.code,{children:"ppl_testcase"})," can be converted from a ",(0,i.jsx)(n.code,{children:"parquet"})," file. Below is reference code (",(0,i.jsx)(n.code,{children:"convert_parquet_to_bin.py"}),") for conversion:"]}),"\n"]}),"\n"]}),(0,i.jsx)(n.pre,{className:"code",children:(0,i.jsx)(n.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,i.jsxs)(n.code,{className:"language-python",meta:"",children:[(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" pandas "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" pd"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" datasets "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" Dataset"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number"}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"df "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" pd"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"read_parquet"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"test-00000-of-00001.parquet"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"dataset_test "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" Dataset"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"from_pandas"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(df)"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"text_data "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"\\n\\n"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"join"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(dataset_test["}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'text'"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"])"})]}),"\n",(0,i.jsx)(n.span,{className:"line line-number"}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"with"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"open"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"test-00000-of-00001.bin"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:", "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wb"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:")"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" f"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"})]}),"\n",(0,i.jsxs)(n.span,{className:"line line-number",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    f"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"write"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"(text_data."}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"encode"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"utf-8"'}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:"))"})]}),"\n"]})})})]})]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(l,e)})):l(e)}n.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["latest%2Fen%2Fguide%2Fquickstart%2FS100P%2Fqwen2_5%2Fadvanced_development_qwen.mdx"]={toc:[{id:"qwen25-model-version-selection",text:"Qwen2.5 Model Version Selection",depth:2},{id:"environment-setup",text:"Environment Setup",depth:2},{id:"deployment-package-preparation",text:"Deployment Package Preparation",depth:2},{id:"model-preparation",text:"Model Preparation",depth:2},{id:"model_quantization",text:"Model Quantization",depth:2},{id:"edge-device-runtime-preparation",text:"Edge Device Runtime Preparation",depth:2},{id:"edge-device-runtime-setup",text:"Edge Device Runtime Setup",depth:2},{id:"running-on-edge-device",text:"Running on Edge Device",depth:2},{id:"simple-conversation",text:"Simple Conversation",depth:3},{id:"multi-turn-conversation",text:"Multi-turn Conversation",depth:3},{id:"ppl-evaluation",text:"PPL Evaluation",depth:3},{id:"execution-results",text:"Execution Results",depth:2},{id:"simple-conversation-1",text:"Simple Conversation",depth:3},{id:"multi-turn-conversation-1",text:"Multi-turn Conversation",depth:3},{id:"ppl-evaluation-1",text:"PPL Evaluation",depth:3}],title:"Advanced Development",frontmatter:{}}}}]);